---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout
  title="Build ‚Äî Journal Foundation"
  description="Contribute to JournalNet infrastructure or build applications on the protocol stack."
>
  <main class="build-page">
    
    <section class="hero">
      <div class="container">
        <h1>Build</h1>
        <p class="tagline">
          Build on JournalNet's three-layer architecture: implement the vault, 
          the cipherlot, or create applications.
        </p>
      </div>
    </section>

    <section class="paths">
      <div class="container">
        
        <article class="path-card">
          <div class="path-header">
            <span class="path-icon">üóÑÔ∏è</span>
            <h2>Layer 1: Build the Vault</h2>
          </div>
          
          <p class="path-description">
            Implement encrypted storage with graph-aware indexes and capability verification.
            The vault is where user data lives.
          </p>

          <div class="path-actions">
            <h3>Get started</h3>
            <ul>
              <li>
                <a href="https://github.com/JournalFoundation/journalvault" target="_blank" rel="noopener noreferrer">
                  Explore the vault repository ‚Üí
                </a>
              </li>
              <li>
                <a href="/specs/rfc-0002-vault">Read the specification ‚Üí</a>
              </li>
              <li>
                <a href="/docs/10-how-to/run-a-vault-locally">Run a local vault ‚Üí</a>
              </li>
            </ul>
          </div>
        </article>

        <article class="path-card">
          <div class="path-header">
            <span class="path-icon">üîê</span>
            <h2>Layer 2: Build the Cipherlot</h2>
          </div>
          
          <p class="path-description">
            Implement capability tokens, blind relays, and metadata minimization.
            The cipherlot handles access control and privacy.
          </p>

          <div class="path-actions">
            <h3>Get started</h3>
            <ul>
              <li>
                <a href="https://github.com/JournalFoundation/cipherlot" target="_blank" rel="noopener noreferrer">
                  Explore the cipherlot repository ‚Üí
                </a>
              </li>
              <li>
                <a href="/specs/rfc-0001-core">Read the specification ‚Üí</a>
              </li>
              <li>
                <a href="/docs/30-reference/api-endpoints">API reference ‚Üí</a>
              </li>
            </ul>
          </div>
        </article>

        <article class="path-card">
          <div class="path-header">
            <span class="path-icon">üì±</span>
            <h2>Layer 3: Build Applications</h2>
          </div>
          
          <p class="path-description">
            Create applications that request temporary, scoped access to user data.
            Use the SDK to connect to vaults without storing user data.
          </p>

          <div class="path-actions">
            <h3>Get started</h3>
            <ul>
              <li>
                <a href="https://github.com/JournalFoundation/Reference_apps" target="_blank" rel="noopener noreferrer">
                  See reference applications ‚Üí
                </a>
              </li>
              <li>
                <a href="/docs/00-getting-started/hello-world">Hello, Journal tutorial ‚Üí</a>
              </li>
              <li>
                <a href="/docs/10-how-to/connect-a-client">Connect a client ‚Üí</a>
              </li>
              <li>
                <code class="install-snippet">npm install @journalfoundation/vault-sdk</code>
              </li>
            </ul>
          </div>

          <div class="app-ideas">
            <h4>Example applications</h4>
            <div class="app-grid">
              <span>üì∏ Photo sharing</span>
              <span>üí¨ Messaging</span>
              <span>üó£Ô∏è Social feed</span>
              <span>üß† Personal AI</span>
              <span>üìù Collaborative docs</span>
              <span>üéµ Music library</span>
            </div>
          </div>
        </article>

      </div>
    </section>

    <section class="community">
      <div class="container">
        <h2>Join the Community</h2>
        <div class="community-grid">
          <div class="community-card">
            <h3>üí¨ Discussions</h3>
            <p>Technical questions, RFC debates, roadmap ideas</p>
            <a 
              href="https://github.com/JournalFoundation/cipherlot/discussions" 
              target="_blank" 
              rel="noopener noreferrer"
            >
              GitHub Discussions ‚Üí
            </a>
          </div>

          <div class="community-card">
            <h3>üìñ Documentation</h3>
            <p>Tutorials, how-tos, explanations, reference</p>
            <a href="/docs">Browse docs ‚Üí</a>
          </div>

          <div class="community-card">
            <h3>üîí Security</h3>
            <p>Report vulnerabilities, review threat models</p>
            <a href="/security">Security program ‚Üí</a>
          </div>
        </div>
      </div>
    </section>

    <section class="principles">
      <div class="container">
        <h2>Development Principles</h2>
        <div class="principles-grid">
          <div>
            <h3>Open by default</h3>
            <p>All code, specs, and governance decisions are public.</p>
          </div>
          <div>
            <h3>Privacy-first</h3>
            <p>Metadata minimization and encryption aren't optional.</p>
          </div>
          <div>
            <h3>Interoperable</h3>
            <p>Multiple implementations of the same spec should work together.</p>
          </div>
          <div>
            <h3>No platform lock-in</h3>
            <p>Users can switch apps without losing data.</p>
          </div>
        </div>
      </div>
    </section>

  </main>
</BaseLayout>

<style>
  .build-page {
    padding-bottom: var(--space-3xl);
  }

  .hero {
    padding: var(--space-3xl) 0 var(--space-2xl);
    text-align: center;
  }

  .hero h1 {
    margin-bottom: var(--space-md);
  }

  .tagline {
    font-size: var(--step-1);
    color: var(--color-text-secondary);
    max-width: 65ch;
    margin: 0 auto;
  }

  .paths {
    padding: var(--space-2xl) 0;
  }

  .path-card {
    background: rgba(17, 24, 33, 0.6);
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
    margin-bottom: var(--space-xl);
    display: grid;
    gap: var(--space-lg);
  }

  .path-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
  }

  .path-icon {
    font-size: 2rem;
  }

  .path-header h2 {
    margin: 0;
    font-size: var(--step-2);
  }

  .path-description {
    color: var(--color-text-secondary);
    font-size: var(--step-0);
    margin: 0;
  }

  .path-layers {
    display: grid;
    gap: var(--space-md);
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }

  .layer-option {
    background: rgba(45, 125, 255, 0.08);
    border: 1px solid rgba(45, 125, 255, 0.25);
    border-radius: var(--radius-md);
    padding: var(--space-md);
  }

  .layer-option h3 {
    margin: 0 0 var(--space-xs) 0;
    font-size: var(--step-0);
    color: var(--color-accent-azure);
  }

  .layer-option p {
    margin: 0 0 var(--space-sm) 0;
    font-size: var(--step--1);
    color: var(--color-text-secondary);
  }

  .layer-option a {
    font-size: var(--step--1);
    color: var(--color-accent-azure);
    text-decoration: none;
    font-weight: 600;
  }

  .layer-option a:hover {
    text-decoration: underline;
  }

  .path-actions h3,
  .path-looking-for h4,
  .app-ideas h4 {
    font-size: var(--step--1);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--color-text-muted);
    margin-bottom: var(--space-sm);
  }

  .path-actions ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: var(--space-xs);
  }

  .path-actions li a {
    color: var(--color-accent-azure);
    text-decoration: none;
    font-weight: 500;
  }

  .path-actions li a:hover {
    text-decoration: underline;
  }

  .install-snippet {
    display: block;
    background: var(--color-surface-void);
    padding: var(--space-sm);
    border-radius: var(--radius-sm);
    font-family: var(--font-family-mono);
    font-size: var(--step--1);
    color: var(--color-accent-emerald);
    margin-top: var(--space-xs);
  }

  .tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
  }

  .tags span {
    background: rgba(13, 210, 128, 0.12);
    border: 1px solid rgba(13, 210, 128, 0.35);
    color: var(--color-accent-emerald);
    padding: calc(var(--space-3xs) + 2px) var(--space-xs);
    border-radius: var(--radius-pill);
    font-size: var(--step--1);
    font-weight: 600;
  }

  .app-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: var(--space-xs);
  }

  .app-grid span {
    background: rgba(45, 125, 255, 0.08);
    border: 1px solid rgba(45, 125, 255, 0.25);
    padding: var(--space-xs);
    border-radius: var(--radius-sm);
    font-size: var(--step--1);
    text-align: center;
  }

  .community {
    padding: var(--space-3xl) 0;
    background: rgba(17, 24, 33, 0.35);
  }

  .community h2 {
    text-align: center;
    margin-bottom: var(--space-xl);
  }

  .community-grid {
    display: grid;
    gap: var(--space-lg);
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  }

  .community-card {
    background: rgba(17, 24, 33, 0.8);
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    display: grid;
    gap: var(--space-sm);
  }

  .community-card h3 {
    margin: 0;
    font-size: var(--step-0);
  }

  .community-card p {
    margin: 0;
    color: var(--color-text-secondary);
    font-size: var(--step--1);
  }

  .community-card a {
    color: var(--color-accent-azure);
    text-decoration: none;
    font-weight: 600;
    font-size: var(--step--1);
  }

  .community-card a:hover {
    text-decoration: underline;
  }

  .principles {
    padding: var(--space-3xl) 0;
  }

  .principles h2 {
    text-align: center;
    margin-bottom: var(--space-xl);
  }

  .principles-grid {
    display: grid;
    gap: var(--space-lg);
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .principles-grid h3 {
    margin: 0 0 var(--space-xs) 0;
    font-size: var(--step-0);
    color: var(--color-accent-emerald);
  }

  .principles-grid p {
    margin: 0;
    color: var(--color-text-secondary);
    font-size: var(--step--1);
  }

  @media (max-width: 768px) {
    .path-card {
      padding: var(--space-lg);
    }

    .path-layers {
      grid-template-columns: 1fr;
    }
  }
</style>